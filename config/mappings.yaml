# Service-to-tier mappings with metadata
# If a service-tier combination is not listed, that service
# is NOT available for that tier.
#
# Schema:
#   service: string          # Service slug from services.yaml
#   tier: string             # low, medium, high, restricted
#   approval: string         # automatic, review, consultation
#   approval_contact: string # Email for review/consultation (optional)
#   notes: string            # User-facing notes (optional)
#   dmp_template: string     # DMP template path (optional)
#
#   # Compliance metadata (optional, for L3+ services)
#   compliance:
#     frameworks: []         # hipaa, fda_21_cfr_11, ferpa, fedramp, etc.
#     baa_status: string     # in_place, available, not_available
#     baa_reference: string  # e.g., "Microsoft Cloud Terms"
#     training_required: []  # List of required training
#     timeline: string       # Expected provisioning time
#     audit_logging: bool    # Whether audit logging is enabled
#     encryption: string     # at_rest, in_transit, both, none
#     contact: string        # Compliance-specific contact

mappings:
  # =============================================================================
  # HPC CLUSTER - Low/Medium only
  # =============================================================================

  # HPC Free Tier
  - service: hpc-free
    tier: low
    approval: automatic
    notes: null
    dmp_template: "hpc-free/default"

  - service: hpc-free
    tier: medium
    approval: automatic
    notes: |
      Free tier has resource limits. Data must remain on cluster filesystems.
    dmp_template: "hpc-free/default"

  # HPC Compute (CPU)
  - service: hpc-compute
    tier: low
    approval: automatic
    notes: null
    dmp_template: "hpc-compute/default"

  - service: hpc-compute
    tier: medium
    approval: automatic
    notes: |
      Data must remain on cluster filesystems during processing.
      Do not copy data to personal devices.
    dmp_template: "hpc-compute/default"

  # HPC GPU (V100)
  - service: hpc-gpu
    tier: low
    approval: automatic
    notes: null
    dmp_template: "hpc-gpu/default"

  - service: hpc-gpu
    tier: medium
    approval: automatic
    notes: |
      Data must remain on cluster filesystems during processing.
      V100s best for simulation; consider K8s cluster for heavy ML.
    dmp_template: "hpc-gpu/default"

  # HPC Storage (Isilon)
  - service: hpc-storage
    tier: low
    approval: automatic
    notes: null
    dmp_template: "hpc-storage/default"

  - service: hpc-storage
    tier: medium
    approval: automatic
    notes: |
      Encryption at rest enabled by default.
      Data accessible from HPC compute nodes.
    dmp_template: "hpc-storage/default"

  # =============================================================================
  # KUBERNETES CLUSTER - Low/Medium only (Beta)
  # =============================================================================

  - service: k8s-cluster
    tier: low
    approval: review
    approval_contact: "k8s-beta@northwinds.edu"
    notes: |
      Beta access requires application approval.
      Submit your use case and container experience to k8s-beta@northwinds.edu.
    dmp_template: "k8s-cluster/default"

  - service: k8s-cluster
    tier: medium
    approval: review
    approval_contact: "k8s-beta@northwinds.edu"
    notes: |
      Beta access requires application approval.
      Workloads must use appropriate network policies.
    dmp_template: "k8s-cluster/default"

  # =============================================================================
  # GLOBUS & iRODS - Low/Medium only
  # =============================================================================

  - service: globus-transfer
    tier: low
    approval: automatic
    notes: null
    dmp_template: "globus-transfer/default"

  - service: globus-transfer
    tier: medium
    approval: automatic
    notes: |
      Use Globus encryption for transfers containing proprietary data.
    dmp_template: "globus-transfer/default"

  - service: globus-storage
    tier: low
    approval: automatic
    notes: null
    dmp_template: "globus-storage/default"

  - service: globus-storage
    tier: medium
    approval: automatic
    notes: |
      Encryption at rest enabled. Verify recipient endpoint security before sharing.
    dmp_template: "globus-storage/default"

  # =============================================================================
  # AWS CLOUD - Low through High
  # =============================================================================

  # AWS Compute - Small
  - service: aws-compute-small
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-compute/default"

  - service: aws-compute-small
    tier: medium
    approval: automatic
    notes: |
      Use private VPCs. Enable CloudTrail logging for audit compliance.
    dmp_template: "cloud-compute/default"

  - service: aws-compute-small
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Dedicated VPC with restricted access
      - All data encrypted with customer-managed KMS keys
      - Requires completed cloud security assessment
    dmp_template: "cloud-compute/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "AWS Business Associate Addendum"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Cloud Security Fundamentals"
      timeline: "3-5 business days after security assessment"
      audit_logging: true
      encryption: both

  # AWS Compute - Medium
  - service: aws-compute-medium
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-compute/default"

  - service: aws-compute-medium
    tier: medium
    approval: automatic
    notes: |
      Use private VPCs. Enable CloudTrail logging for audit compliance.
    dmp_template: "cloud-compute/default"

  - service: aws-compute-medium
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Dedicated VPC with restricted access
      - All data encrypted with customer-managed KMS keys
      - Requires completed cloud security assessment
    dmp_template: "cloud-compute/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "AWS Business Associate Addendum"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Cloud Security Fundamentals"
      timeline: "3-5 business days after security assessment"
      audit_logging: true
      encryption: both

  # AWS Compute - Large
  - service: aws-compute-large
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-compute/default"

  - service: aws-compute-large
    tier: medium
    approval: automatic
    notes: |
      Use private VPCs. Enable CloudTrail logging for audit compliance.
    dmp_template: "cloud-compute/default"

  - service: aws-compute-large
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Dedicated VPC with restricted access
      - All data encrypted with customer-managed KMS keys
      - Requires completed cloud security assessment
    dmp_template: "cloud-compute/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "AWS Business Associate Addendum"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Cloud Security Fundamentals"
      timeline: "3-5 business days after security assessment"
      audit_logging: true
      encryption: both

  # AWS Storage - Hot
  - service: aws-storage-hot
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/default"

  - service: aws-storage-hot
    tier: medium
    approval: automatic
    notes: |
      Enable bucket versioning and access logging.
    dmp_template: "cloud-storage/default"

  - service: aws-storage-hot
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Block public access
      - Server-side encryption with KMS
      - Access logging required
    dmp_template: "cloud-storage/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "AWS Business Associate Addendum"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Same day after security assessment"
      audit_logging: true
      encryption: both

  # AWS Storage - Cold
  - service: aws-storage-cold
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/default"

  - service: aws-storage-cold
    tier: medium
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/default"

  - service: aws-storage-cold
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      Same security requirements as hot storage.
    dmp_template: "cloud-storage/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "AWS Business Associate Addendum"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Same day after security assessment"
      audit_logging: true
      encryption: both

  # AWS Storage - Archive
  - service: aws-storage-archive
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/archive"

  - service: aws-storage-archive
    tier: medium
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/archive"

  - service: aws-storage-archive
    tier: high
    approval: automatic
    notes: |
      Archive tier maintains same security controls as source storage.
    dmp_template: "cloud-storage/archive"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "AWS Business Associate Addendum"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Immediate (archive from existing storage)"
      audit_logging: true
      encryption: both

  # =============================================================================
  # AZURE CLOUD - Low through High
  # =============================================================================

  # Azure Compute - Small
  - service: azure-compute-small
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-compute/default"

  - service: azure-compute-small
    tier: medium
    approval: automatic
    notes: |
      Use virtual networks with appropriate NSGs. Enable Azure Monitor logging.
    dmp_template: "cloud-compute/default"

  - service: azure-compute-small
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Dedicated resource group
      - Azure Policy enforcement
      - All data encrypted with customer-managed keys
      - Requires completed cloud security assessment
    dmp_template: "cloud-compute/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Cloud Security Fundamentals"
      timeline: "3-5 business days after security assessment"
      audit_logging: true
      encryption: both

  # Azure Compute - Medium
  - service: azure-compute-medium
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-compute/default"

  - service: azure-compute-medium
    tier: medium
    approval: automatic
    notes: |
      Use virtual networks with appropriate NSGs. Enable Azure Monitor logging.
    dmp_template: "cloud-compute/default"

  - service: azure-compute-medium
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Dedicated resource group
      - Azure Policy enforcement
      - All data encrypted with customer-managed keys
      - Requires completed cloud security assessment
    dmp_template: "cloud-compute/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Cloud Security Fundamentals"
      timeline: "3-5 business days after security assessment"
      audit_logging: true
      encryption: both

  # Azure Compute - Large
  - service: azure-compute-large
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-compute/default"

  - service: azure-compute-large
    tier: medium
    approval: automatic
    notes: |
      Use virtual networks with appropriate NSGs. Enable Azure Monitor logging.
    dmp_template: "cloud-compute/default"

  - service: azure-compute-large
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Dedicated resource group
      - Azure Policy enforcement
      - All data encrypted with customer-managed keys
      - Requires completed cloud security assessment
    dmp_template: "cloud-compute/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Cloud Security Fundamentals"
      timeline: "3-5 business days after security assessment"
      audit_logging: true
      encryption: both

  # Azure Storage - Hot
  - service: azure-storage-hot
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/default"

  - service: azure-storage-hot
    tier: medium
    approval: automatic
    notes: |
      Enable soft delete and access logging.
    dmp_template: "cloud-storage/default"

  - service: azure-storage-hot
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Private endpoints only
      - Customer-managed encryption keys
      - Access logging required
    dmp_template: "cloud-storage/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Same day after security assessment"
      audit_logging: true
      encryption: both

  # Azure Storage - Cold
  - service: azure-storage-cold
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/default"

  - service: azure-storage-cold
    tier: medium
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/default"

  - service: azure-storage-cold
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      Same security requirements as hot storage.
    dmp_template: "cloud-storage/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Same day after security assessment"
      audit_logging: true
      encryption: both

  # Azure Storage - Archive
  - service: azure-storage-archive
    tier: low
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/archive"

  - service: azure-storage-archive
    tier: medium
    approval: automatic
    notes: null
    dmp_template: "cloud-storage/archive"

  - service: azure-storage-archive
    tier: high
    approval: automatic
    notes: |
      Archive tier maintains same security controls as source storage.
    dmp_template: "cloud-storage/archive"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Immediate (archive from existing storage)"
      audit_logging: true
      encryption: both

  # =============================================================================
  # UNIVERSITY SERVICES - Low through High
  # =============================================================================

  # University File Server (NWFiles)
  - service: nwfiles
    tier: low
    approval: automatic
    notes: null
    dmp_template: "nwfiles/default"

  - service: nwfiles
    tier: medium
    approval: automatic
    notes: |
      Encryption at rest enabled. Use departmental share for collaboration.
    dmp_template: "nwfiles/default"

  - service: nwfiles
    tier: high
    approval: review
    approval_contact: "storage-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Isolated project folder with restricted access
      - Access logging enabled
      - Annual access review required
    dmp_template: "nwfiles/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: not_applicable
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Data Handling Policy Training"
      timeline: "1-2 business days"
      audit_logging: true
      encryption: at_rest

  # OneDrive
  - service: onedrive
    tier: low
    approval: automatic
    notes: null
    dmp_template: "onedrive/default"

  - service: onedrive
    tier: medium
    approval: automatic
    notes: |
      Ensure sharing is restricted to authorized collaborators only.
    dmp_template: "onedrive/default"

  - service: onedrive
    tier: high
    approval: automatic
    notes: |
      OneDrive is covered under Microsoft BAA for high-tier data.
      Ensure sharing is disabled or restricted to authorized personnel.
      Use sensitivity labels where appropriate.
    dmp_template: "onedrive/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (signed annually)"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Immediate (already provisioned)"
      audit_logging: true
      encryption: both

  # LabArchives
  - service: labarchives
    tier: low
    approval: automatic
    notes: null
    dmp_template: "labarchives/default"

  - service: labarchives
    tier: medium
    approval: automatic
    notes: |
      Suitable for lab documentation with medium-tier data.
      Do not store large datasets - use appropriate storage for bulk data.
    dmp_template: "labarchives/default"

  - service: labarchives
    tier: high
    approval: automatic
    notes: |
      LabArchives is approved for high-tier lab documentation.
      Ensure notebook permissions are restricted to authorized personnel.
    dmp_template: "labarchives/high"
    compliance:
      frameworks: [hipaa]
      baa_status: in_place
      baa_reference: "LabArchives HIPAA BAA (institutional agreement)"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "Immediate (already provisioned)"
      audit_logging: true
      encryption: both

  # Azure OpenAI - Low/Medium only
  - service: azure-openai
    tier: low
    approval: automatic
    notes: null
    dmp_template: "azure-openai/default"

  - service: azure-openai
    tier: medium
    approval: automatic
    notes: |
      Do not include sensitive or proprietary data in prompts.
      Use for general analysis, not for processing protected data.
    dmp_template: "azure-openai/default"

  # =============================================================================
  # VDI & SECURE ENVIRONMENTS - All Tiers
  # =============================================================================

  # Research VDI - Silver
  - service: research-vdi-silver
    tier: low
    approval: automatic
    notes: null
    dmp_template: "research-vdi/default"

  - service: research-vdi-silver
    tier: medium
    approval: automatic
    notes: |
      VMs are isolated per user. Use network storage for data that needs backup.
    dmp_template: "research-vdi/default"

  - service: research-vdi-silver
    tier: high
    approval: automatic
    notes: |
      VDI includes encryption at rest and daily backups.
      Ensure Azure AD MFA is enabled. Do not transfer data to personal devices.
    dmp_template: "research-vdi/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (Azure Virtual Desktop)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "VDI Security Best Practices"
      timeline: "Same day provisioning"
      audit_logging: true
      encryption: both

  - service: research-vdi-silver
    tier: restricted
    approval: review
    approval_contact: "security@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Isolated network segment
      - No internet access from VM
      - Session logging may be required
    dmp_template: null
    compliance:
      frameworks: [cui, itar, ear]
      baa_status: not_applicable
      training_required:
        - "CUI Handling (if applicable)"
        - "Export Control Awareness"
        - "VDI Security Best Practices"
      timeline: "2-4 weeks (security assessment required)"
      audit_logging: true
      encryption: both
      contact: "security@northwinds.edu"

  # Research VDI - Gold
  - service: research-vdi-gold
    tier: low
    approval: automatic
    notes: null
    dmp_template: "research-vdi/default"

  - service: research-vdi-gold
    tier: medium
    approval: automatic
    notes: |
      VMs are isolated per user. Use network storage for data that needs backup.
    dmp_template: "research-vdi/default"

  - service: research-vdi-gold
    tier: high
    approval: automatic
    notes: |
      VDI includes encryption at rest and daily backups.
      Ensure Azure AD MFA is enabled. Do not transfer data to personal devices.
    dmp_template: "research-vdi/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (Azure Virtual Desktop)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "VDI Security Best Practices"
      timeline: "Same day provisioning"
      audit_logging: true
      encryption: both

  - service: research-vdi-gold
    tier: restricted
    approval: review
    approval_contact: "security@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Isolated network segment
      - No internet access from VM
      - Session logging may be required
    dmp_template: null
    compliance:
      frameworks: [cui, itar, ear]
      baa_status: not_applicable
      training_required:
        - "CUI Handling (if applicable)"
        - "Export Control Awareness"
        - "VDI Security Best Practices"
      timeline: "2-4 weeks (security assessment required)"
      audit_logging: true
      encryption: both
      contact: "security@northwinds.edu"

  # Research VDI - Platinum
  - service: research-vdi-platinum
    tier: low
    approval: automatic
    notes: null
    dmp_template: "research-vdi/default"

  - service: research-vdi-platinum
    tier: medium
    approval: automatic
    notes: |
      VMs are isolated per user. Use network storage for data that needs backup.
    dmp_template: "research-vdi/default"

  - service: research-vdi-platinum
    tier: high
    approval: automatic
    notes: |
      VDI includes encryption at rest and daily backups.
      Ensure Azure AD MFA is enabled. Do not transfer data to personal devices.
    dmp_template: "research-vdi/high"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (Azure Virtual Desktop)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "VDI Security Best Practices"
      timeline: "Same day provisioning"
      audit_logging: true
      encryption: both

  - service: research-vdi-platinum
    tier: restricted
    approval: review
    approval_contact: "security@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Isolated network segment
      - No internet access from VM
      - Session logging may be required
    dmp_template: null
    compliance:
      frameworks: [cui, itar, ear]
      baa_status: not_applicable
      training_required:
        - "CUI Handling (if applicable)"
        - "Export Control Awareness"
        - "VDI Security Best Practices"
      timeline: "2-4 weeks (security assessment required)"
      audit_logging: true
      encryption: both
      contact: "security@northwinds.edu"

  # JupyterHub (Shared) - Free for L1/L2
  - service: jupyterhub-shared
    tier: low
    approval: automatic
    notes: null
    dmp_template: "jupyterhub/shared"

  - service: jupyterhub-shared
    tier: medium
    approval: automatic
    notes: |
      Shared JupyterHub spawns jobs on HPC cluster. Data stored in your
      HPC home directory. Do not process L3/High tier data on shared instance.
    dmp_template: "jupyterhub/shared"

  # JupyterHub (Dedicated) - For L3/High tier data
  - service: jupyterhub-dedicated
    tier: high
    approval: automatic
    notes: |
      Dedicated JupyterHub runs on isolated VDI infrastructure.
      Includes daily backups and encryption at rest.
      Ensure Azure AD MFA is enabled.
    dmp_template: "jupyterhub/dedicated"
    compliance:
      frameworks: [hipaa, ferpa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (Azure Virtual Desktop)"
      training_required:
        - "HIPAA Security Awareness (annual)"
      timeline: "1-2 business days"
      audit_logging: true
      encryption: both

  - service: jupyterhub-dedicated
    tier: restricted
    approval: review
    approval_contact: "security@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Isolated network segment
      - No internet access from VM (if required by protocol)
      - Session logging may be required
    dmp_template: "jupyterhub/dedicated"
    compliance:
      frameworks: [cui, itar, ear]
      baa_status: not_applicable
      training_required:
        - "CUI Handling (if applicable)"
        - "Export Control Awareness"
      timeline: "2-4 weeks (security assessment required)"
      audit_logging: true
      encryption: both
      contact: "security@northwinds.edu"

  # Web Hosting
  - service: web-hosting
    tier: low
    approval: automatic
    notes: null
    dmp_template: "web-hosting/default"

  - service: web-hosting
    tier: medium
    approval: automatic
    notes: |
      Use Azure AD authentication for access control.
      Enable application logging and monitoring.
    dmp_template: "web-hosting/default"

  - service: web-hosting
    tier: high
    approval: review
    approval_contact: "cloud-team@northwinds.edu"
    notes: |
      **Additional requirements:**
      - Private endpoints only
      - WAF and DDoS protection enabled
      - Security assessment required before deployment
    dmp_template: "web-hosting/high"
    compliance:
      frameworks: [hipaa]
      baa_status: in_place
      baa_reference: "Microsoft Cloud Terms (Azure App Service)"
      training_required:
        - "HIPAA Security Awareness (annual)"
        - "Secure Web Development Practices"
      timeline: "1-2 weeks (security assessment required)"
      audit_logging: true
      encryption: both

  # Secure Enclave - Restricted only
  - service: secure-enclave
    tier: restricted
    approval: consultation
    approval_contact: "security@northwinds.edu"
    notes: |
      Secure enclaves are provisioned through consultation.
      Allow 4-8 weeks lead time for setup.
    dmp_template: null
    compliance:
      frameworks: [cui, nist_800_171, itar, ear]
      baa_status: not_applicable
      training_required:
        - "CUI Handling"
        - "Export Control Awareness"
        - "NIST 800-171 Security Controls"
        - "Secure Enclave Operating Procedures"
      timeline: "4-8 weeks (full security assessment and build-out)"
      audit_logging: true
      encryption: both
      contact: "security@northwinds.edu"

  # =============================================================================
  # SUPPORT SERVICES - All Tiers
  # =============================================================================

  - service: rc-consultation
    tier: low
    approval: automatic
    notes: null
    dmp_template: "rc-consultation/default"

  - service: rc-consultation
    tier: medium
    approval: automatic
    notes: null
    dmp_template: "rc-consultation/default"

  - service: rc-consultation
    tier: high
    approval: automatic
    notes: |
      Consultation for high-tier projects may involve security team members.
    dmp_template: "rc-consultation/default"

  - service: rc-consultation
    tier: restricted
    approval: automatic
    notes: |
      Consultation for restricted-tier projects requires security team participation.
    dmp_template: "rc-consultation/default"

  # =============================================================================
  # ACCESS ALLOCATIONS (NSF National Resources) - Low/Medium only
  # =============================================================================

  # ACCESS Explore (up to 400K credits)
  - service: access-explore
    tier: low
    approval: automatic
    notes: null
    dmp_template: "access/explore"

  - service: access-explore
    tier: medium
    approval: automatic
    notes: |
      ACCESS resources are shared national infrastructure. Do not store
      proprietary or export-controlled data on ACCESS systems.
    dmp_template: "access/explore"

  # ACCESS Discover (up to 1.5M credits)
  - service: access-discover
    tier: low
    approval: automatic
    notes: null
    dmp_template: "access/discover"

  - service: access-discover
    tier: medium
    approval: automatic
    notes: |
      ACCESS resources are shared national infrastructure. Do not store
      proprietary or export-controlled data on ACCESS systems.
    dmp_template: "access/discover"

  # ACCESS Accelerate (up to 3M credits)
  - service: access-accelerate
    tier: low
    approval: automatic
    notes: null
    dmp_template: "access/accelerate"

  - service: access-accelerate
    tier: medium
    approval: automatic
    notes: |
      ACCESS resources are shared national infrastructure. Do not store
      proprietary or export-controlled data on ACCESS systems.
    dmp_template: "access/accelerate"

  # ACCESS Maximize (no upper limit)
  - service: access-maximize
    tier: low
    approval: automatic
    notes: null
    dmp_template: "access/maximize"

  - service: access-maximize
    tier: medium
    approval: automatic
    notes: |
      ACCESS resources are shared national infrastructure. Do not store
      proprietary or export-controlled data on ACCESS systems.
    dmp_template: "access/maximize"
